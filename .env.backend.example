# ============================================
# Devil Panels - Node Backend Production Environment
# ============================================
# Copia este archivo como .env en el servidor del backend
# y reemplaza los valores entre {{ }} con tus valores reales
#
# DOMINIOS:
#   {{PANEL_DOMAIN}} = dominio del panel Laravel (ej: panel.ejemplo.com)
#   {{BACKEND_DOMAIN}} = dominio de este backend (ej: api.otrodominio.com)

NODE_ENV=production

# ============================================
# Server Ports
# ============================================
PORT=3005
WS_PORT=3000

# ============================================
# Database - PostgreSQL
# ============================================
DATABASE_URL=postgresql://{{DB_USERNAME}}:{{DB_PASSWORD}}@localhost:5432/devil_backend

# O usar variables separadas:
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=devil_backend
DB_USERNAME={{DB_USERNAME}}
DB_PASSWORD={{DB_PASSWORD}}

# ============================================
# Security Secrets
# ============================================
# Shared secret for Laravel <-> Node communication (debe ser igual en Laravel)
SHARED_SECRET={{SHARED_SECRET_64_CHARS}}

# JWT secret for token signing
JWT_SECRET={{JWT_SECRET_32_CHARS}}

# Session secret
SESSION_SECRET={{SESSION_SECRET_32_CHARS}}

# ============================================
# Redis
# ============================================
REDIS_URL=redis://:{{REDIS_PASSWORD}}@127.0.0.1:6379
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD={{REDIS_PASSWORD}}

# ============================================
# CORS - Dominios permitidos
# ============================================
# Separar multiples dominios con coma
# El panel esta en un dominio diferente al backend
CORS_ORIGINS=https://{{PANEL_DOMAIN}}

# ============================================
# Telegram Bot (opcional)
# ============================================
TELEGRAM_BOT_TOKEN={{BOT_TOKEN}}
TELEGRAM_WEBHOOK_URL=https://{{BACKEND_DOMAIN}}/telegram/webhook
TELEGRAM_ADMIN_CHAT_ID={{ADMIN_CHAT_ID}}

# ============================================
# Project Secrets
# ============================================
# Formato: slug1:secret1,slug2:secret2
# Agregar nuevos proyectos aqui separados por coma
PROJECT_SECRETS=

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Logging
# ============================================
LOG_LEVEL=error
LOG_FORMAT=json

# ============================================
# Laravel Panel URL (for callbacks)
# ============================================
PANEL_URL=https://{{PANEL_DOMAIN}}
